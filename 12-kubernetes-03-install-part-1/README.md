# Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"  
  
1. Расчет всех необходимых ресурсов.  
  
Для БД и КЭШ размер диска взят 10 ГБ.
Для Фронтэнд и Бэкенд размер диска взят 2 ГБ.
Требования к операционной системе(ОС) взяты от Ubuntu Server.
   
| Компонент | Процессор, ядро | ОЗУ, ГБ | Диск, ГБ | Экземпляров | 
| --- | --- | --- | --- | --- |
| БД | 1 | 4 | 10 | 3 |
| Кэш | 1 | 4 | 10 | 3 |
| Фронтэнд | 0,2 | 0,05 | 2 | 5 |
| Бэкенд | 1 | 0,6 | 2 | 10 |
  
2. Количество рабочих нод.
  
С учётом требований к отказоустойчивости БД и КЭШ необходимо разнести их экземпляры по разным нодам,  
минимальное количество нод принимается равным 3.  

Для 1 ноды нужны следующие ресурсы:  
Процессор = П_БД + П_Кэш + (П_Фротэнд * Ф_Экзепляров) / 3 + (П_Бэкенд * Б_Экземпляров) / 3 = 13   
ОЗУ = О_БД + О_Кэш + (О_Фронтенд * Ф_Экзепляров) / 3 + (О_Бэкенд * Б_Экземпляров) / 3 = 10  
Диск = Д_БД + Д_Кэш + (Д_Фронтенд * Ф_Экзепляров) / 3 + (Д_Бэкенд * Б_Экземпляров) / 3 = 30   

3. Добавьте к полученным цифрам запас, который учитывает выход из строя как минимум одной ноды.
  
Процессор = 13 * 1,5 = 20  
ОЗУ = 10 * 1,5 = 15  
Диск = 30 * 1,5 = 45  
  
4. Добавьте служебные ресурсы к нодам.
  
К рабочим нодам добавляем минимальные требования операционной сиситемы (Ubuntu Server).  
  
Процессор = 20 + 1 = 21  
ОЗУ = 15 + 1 = 16  
Диск = 45 + 2,5 = 48  
  
К мастер ноде у Kubernetes следущие требования  
Процессор = 2  
ОЗУ = 4  
Диск = 36  
  
6. Требования к количеству и характеристикм нод сведены в таблицу.
| Компонент | Процессор, ядро | ОЗУ, ГБ | Диск, ГБ | Кол-во, шт | 
| --- | --- | --- | --- | --- |
| РабочаяНода | 21 | 16 | 48 | 3 |
| МатерНода | 2 | 4 | 36 | 1 |
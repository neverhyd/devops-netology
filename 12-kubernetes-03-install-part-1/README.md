# Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"  
  
1. Расчет всех необходимых ресурсов.  
  
Для БД и КЭШ размер диска взят 10 ГБ.
Для Фронтэнд и Бэкенд размер диска взят 2 ГБ.
Требования к операционной системе(ОС) взяты от Ubuntu Server.
   
| Компонент | Процессор, ядро | ОЗУ, ГБ | Диск, ГБ | Экземпляров | 
| --- | --- | --- | --- | --- |
| БД | 1 | 4 | 10 | 3 |
| Кэш | 1 | 4 | 10 | 3 |
| Фронтэнд | 0,2 | 0,05 | 2 | 5 |
| Бэкенд | 1 | 0,6 | 2 | 10 |
  
2. Количество рабочих нод.
  
С учётом требований к отказоустойчивости БД и КЭШ необходимо разнести их экземпляры по разным нодам,  
минимальное количество нод принимается равным 3.  

Для 1 ноды нужны следующие ресурсы:  
Процессор = (П_БД * БД_Экзепляров) + (П_Кэш * Кэш_Экзепляров) + (П_Фротэнд * Ф_Экзепляров)  + (П_Бэкенд * Б_Экземпляров) = 17   
ОЗУ = (О_БД * БД_Экзепляров) + (О_Кэш * Кэш_Экзепляров) + (О_Фронтенд * Ф_Экзепляров) + (О_Бэкенд * Б_Экземпляров) = 30  
Диск = (Д_БД * БД_Экзепляров) + (Д_Кэш * Кэш_Экзепляров) + (Д_Фронтенд * Ф_Экзепляров) + (Д_Бэкенд * Б_Экземпляров) = 90   

3. Добавьте к полученным цифрам запас, который учитывает выход из строя как минимум одной ноды.
  
Процессор = 17 * 1,5 = 26  
ОЗУ = 30 * 1,5 = 45 
Диск = 90 * 1,5 = 135  
  
4. Добавьте служебные ресурсы к нодам.
  
К рабочим нодам добавляем минимальные требования операционной сиситемы (Ubuntu Server).  
  
Процессор = 26 + 1 = 27  
ОЗУ = 45 + 1 = 46  
Диск = 135 + 2,5 = 138  
  
К мастер ноде у Kubernetes следущие требования  
Процессор = 2  
ОЗУ = 4  
Диск = 36  
  
6. Требования к количеству и характеристикм нод сведены в таблицу.  
  
| Компонент | Процессор, ядро | ОЗУ, ГБ | Диск, ГБ | Кол-во, шт |  
| --- | --- | --- | --- | --- |  
| РабочаяНода | 27 | 46 | 138 | 3 |  
| МатерНода | 2 | 4 | 36 | 1 |  